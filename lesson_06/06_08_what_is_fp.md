# Что такое ФП?

Не так просто сформулировать, что такое функциональное программирование. И я даже не пытался делать это в начале курса. Но сейчас, когда половина курса уже пройдена, и у вас появился некоторый опыт ФП, можно попробовать разобраться в этом.

Какого-то эталонного, "чистого" ФП не существует. Существуют разные языки программирования, которые принято считать функциональными. И у них есть что-то общее, но и различия между ними большие.

Когда говорят про функциональные языки, в первую очередь называют Lisp и Haskell. Кто-то вспомнит про Standad ML или OCaml. Наверняка не забудут Scala.

Однако Scala и OCaml -- это мультипарадигменные языки. На них можно писать в функциональном стиле, а можно совсем не использовать ФП. В эту же группу можно отнести Rust.

Наконец, есть популярные, "менстримовые" языки, которые изначально не были функциональным, но со временем позаимствовали некоторые элементы ФП. Это Java, C++, Python, JavaScript.

Давайте зацепимся за "элементы ФП" и рассмотрим их. Многие из этих элементов мы уже изучили в рамках курса, так что это будет не сложно.


## Элементы ФП

Итак, для функционального программирования характерно:
- Иммутабельные данные (Immutability);
- Рекурсия, как основной способ итерации по спискам и другим коллекциям;
- Функции высшего порядка (HOF) и высокоуровневые средства работы с коллекциями: map, filter, reduce/fold;
- Анонимные функции, замыкания (лямбды);
- Сопоставление с образцом (Pattern Matching);
- Алгебраические типы данных (ADT);
- Ленивые вычисления (Lazy Evaluation).

Это то, что мы видели в Эликсир.

Кроме этого еще есть:
- Автоматический вывод типов (Type Inference) для языков со статической типизацией;
- Контроль побочных эффектов.

TODO разобрать каждый элемент более менее подробно.

Лямбды -- асинхронное программирование.
Ленивые вычисления -- Stream.

Type Inference сейчас есть в мейнстримовых языках: C++, Java (есть в Java?). Но раньше, в 80-90-е годы это было характерно для ФП, а в мейнстрим проникло позже.

Контроль побочных эффектов -- важная особенность Хаскель. Другие языки не относится к этому так трепетно. Вторая важная особенность Хаскель -- ленивость по умолчанию.

TODO Добавить это в Anki.


## В целом ФП это...

Это не общепринятое объяснение, а мое личное мнение, и оно очень простое:

Функциональное программирование на 90-100% состоит из перечисленных выше элементов. В конкретном языке может чего-то не хватать, или быть что-то лишнее, но если программа состоит _"в основном"_ из этих элементов, то это ФП.


## ФП в мейнстрим языках

TODO:
Можно порассуждать, что из этого проще заимствуется в мейнстирм языки, а что сложнее.
- HOF, map, filter etc заимствуются легко
- Immutable programming заимствуется сложно. Его нужно изначально заложить в язык, не получится добавить позже, как фичу.
- Pattern matching или отсутствует, или реализуется как-то ограничено.
- ADT в ООП языках просто не нужны, там свой способ моделирования данных.

Элементов недостаточно, а те, что есть, реализованы недостаточно удобно. Составить из них всю программу неполучается.
