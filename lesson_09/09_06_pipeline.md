# Решение 5. Pipeline.

На практике **bind** как таковой в Эликсир не применяют. Есть другой подход, очень похожий -- **pipeline**. И его применяют довольно часто.

Например, библиотека [Plug](https://hexdocs.pm/plug/readme.html) полностью основана на pipeline. Эта библиотека позволяет делать композицию модулей и функций для обработки http запроса в веб-сервере.

Следущее решение использует те же функции, что и предыдуший вариант -- обертки над BookShop и Validator с прокидыванием state. Но связывать функции мы будем по-другому.

Идея проста -- положить всю цепочку функций в список, пройти по списку, вызвать каждую функцию по-очереди, обработать результат предыдущей функции и передать в следущую. 

Реализация тоже проста: 

```elixir
def pipeline(state, fun_list) do
  Enum.reduce(
    fun_list,
    {:ok, state},
    fn
      (f, {:ok, state}) -> f.(state)
      (_, {:error, reason}) -> {:error, reason}
    end)
end
```

Теперь наше решение выглядит так: lib/solution_5.ex
