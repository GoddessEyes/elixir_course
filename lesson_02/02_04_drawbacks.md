# Недостатки BEAM

## Скорость выполнения кода

Если сравнивать языки программирования по скорости выполнения, то с некоторыми допущениями их можно разделить на группы:
- интерпретируемые;
- компилируемые в кросс-платформенный байткод;
- компилируемые в нативный код.

Эликсир, очевидно, относится ко второй группе. И поэтому он быстрее интерпретируемых языков, как, например, Python или Ruby, но медленнее языков, компилируемых в нативный код, как, например, C++ или Go. 

Внутри своей группы Эликсир не является чемпионом по производительности и уступает Java и другим JVM языкам. И даже появление JIT компиляции в 24-й версии Erlang/OTP не меняет эту ситуацию.

Впрочем, тут речь идет о производительности однопоточного кода на одном ядре CPU. А когда речь идет о многопоточном коде, то важны средства, которые предлагает язык, и архитектура приложения. В этом случае Эликсир успешно конкурирует с Java и Go, а может даже и с C++.


## Небольшая экосистема

Экосистема -- это библиотеки, инструменты и сообщество разработчиков. Если сравнивать Эликсир с популярными, мейнстримовыми языками, то его экосистема значительно меньше.

Её можно косвенно оценить по такой метрике, как количество репозиториев на Github:
- Эрланг -- 20К;
- Эликсир -- 36К;
- Ruby -- 1.5M;
- JavaScript - 5M.

Впрочем, тут можно возразить, что качество важнее количества. 


## Не мейнстрим

Существенный недостаток любой не мейнстримной технологии -- малое количество разработчиков. 

Для IT-компаний есть риск, что они не смогут найти подходящих разработчиков. И поэтому компании в основном избегают таких технологий.

Для разработчика тоже есть риск, что он инвестирует много времени в изучение языка, и это никак не поможет ему в поиске работы и в карьере. Лучше инвестировать в изучение более популярных языков и технологий.

Возникает порочный круг. Мало разработчиков, поэтому мало компаний. Мало компаний, поэтому мало разработчиков. Круг разрывается за счет энтузиастов, которые вкладывают свои усилия, не рассчитывая, что это оправдается с точки зрения бизнеса и карьеры.


# Недостатки Эликсир

## Проблемы в дизайне

Существуют языки программирования с тщательно продуманным дизайном, семантикой, синтаксисом и с реализацией, не противоречащей декларируемым идеям. 

Эликсир не такой язык. Некоторые его особенности не были задуманы, а сформировались случайно.

Например, была идея не использовать круглые скобки при вызове функций:

```elixir
my_fun(arg1, arg2)
my_fun arg1, arg2
```

Потом оказалось, что вариант без скобок трудно поддерживать во всех возможных контекстах. И теперь его не рекомендуют использовать. Однако уже есть много кода, написанного в таком стиле, в том числе в книгах, по которым новые разработчики изучают Эликсир.

Есть два разных синтаксиса для работы со словарями (Map). Причем один из них работает только если ключи являются атомами. Второй является универсальным, но более громоздким.

Довольно странно выглядит `do...end` форма в однострочном варианте. Вдруг появляется лишняя запятая, которой не было во многострочной форме.

Вызов анонимной функции отличается от вызова обычной функции. Зачем-то появляется лишняя точка.

Сперва это вызывает раздражение, а потом привыкаешь. Ко всему со временем привыкаешь :)


## Динамическая типизация

Споры о преимуществах статической и динамической типизации -- это один из традиционных холиваров. Я лично был бы рад, если бы Эликсир поддерживал статическую типизации.

И он поддерживает в некоторой степени. Есть инструмент **dialyzer**, который выполяет статический анализ кода, включая проверку типов. Но поскольку он не встроен в язык, то его возможности ограничены. К тому же, dialyzer запускается отдельно от компилятора, что позволяет легко о нём забыть или намеренно игнорировать.

Существует несколько языков для BEAM со статической типизацией: Alpaka, Gleam, Haskerl, Caramel. Все они реализованы на уровне proof of concept и не годятся для разработки реальных проектов.


## Большая разница между исходным кодом и байткодом

Абстракции высокого уровня и широкое использование макросов приводят к тому, что код, написанный программистом, и скомпилированный байткод сильно отличаются. Это особенно заметно на контрасте с Эрланг, который проще и ближе к байткоду. 

Разработчику не всегда легко понять, как именно его код работает в рантайме. А это усложняет интроспекцию и трассировку. Любимые инструменты Эрланг разработчика становятся не такими доступными для Эликсир разработчика.

