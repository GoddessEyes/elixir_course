digraph GS {

    /*
    TODO:
    + layout nodes
    + label nodes with 3 rows
    - put nodes into clusters as I need cluster labels
    - hide hidden edges
    - apply styles to all elements
    - also apply font 'ubuntu mono'
    */

    graph [style=filled color=blue];
    node [shape=box];

    subgraph cluster_my_module {
        label = "MyModule";

        a [label=<
           <table border="0">
           <tr><td>start</td></tr>
           <tr><td>add</td></tr>
           <tr><td>stop</td></tr>
           </table>
           >];

        d [label=<
           <table border="0">
           <tr><td>handle_call</td></tr>
           <tr><td>handle_cast</td></tr>
           </table>
           >];
    
    };
    
    subgraph cluster_otp {
        label = "OTP";
        
        b [label=<
           <table border="0">
           <tr><td>call</td></tr>
           <tr><td>cast</td></tr>
           </table>
           >];
        
        c [label="loop"];

    };

    edge [weight=1 style=dashed color=red];
    d -> c -> b -> a;

    edge [weight=1 style=dashed color=blue];
    a -> b -> c -> d;

    // hidden edges to make proper layout
    edge [weight=1000 style=dashed color=grey];
    a -> d;
    b -> c;
    rank=same {a -> b};
    rank=same {d -> c};

}
